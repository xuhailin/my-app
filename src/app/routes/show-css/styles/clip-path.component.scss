@import 'src/styles/variables.scss';

:host {
  $clip-size: 2px;
  %bg {
    padding: 2px;
    position: relative;
    display: flex;
    width: 100%;
    height: 100%;
    align-items: center;
    justify-content: center;
    // border-radius: 10px;
    &::before,
    &::after {
      content: '';
      position: absolute;
      z-index: 1;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      @include background;
      clip-path: polygon(0 0);
    }
  }

  div.clip-path-1 {
    @extend %bg;

    &:hover::before {
      animation: clipMeBefore 0.3s linear forwards;
    }

    &:hover::after {
      animation: clipMeAfter 0.3s linear forwards;
    }

    

    @keyframes clipMeBefore {
      0% {
        clip-path: polygon(0 0, 0 0, 0 0, $clip-size $clip-size, $clip-size $clip-size, $clip-size $clip-size);
      }

      50% {
        clip-path: polygon(0 0, 0% 50%, $clip-size 50%, $clip-size $clip-size, 50% $clip-size, 50% 0%);
      }

      100% {
        clip-path: polygon(0 0, 0% 100%, $clip-size 100%, $clip-size $clip-size, 100% $clip-size, 100% 0%);
      }
    }

    @keyframes clipMeAfter {
      0% {
        clip-path: polygon(100% 100%, 100% 100%, 100% 100%,
          calc(100% - #{$clip-size}) calc(100% - #{$clip-size}),
          calc(100% - #{$clip-size}) calc(100% - #{$clip-size}),
          calc(100% - #{$clip-size}) calc(100% - #{$clip-size}));
      }

      50% {
        clip-path: polygon(100% 100%, 100% 50%, calc(100% - #{$clip-size}) 50%,
          calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), 50% calc(100% - #{$clip-size}), 50% 100%);
      }

      100% {
        clip-path: polygon(100% 100%, 100% 0%, calc(100% - #{$clip-size}) 0%,
          calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), 0% calc(100% - #{$clip-size}), 0% 100%);
      }
    }
  }

  div.clip-path-2 {
    @extend %bg;

    &:hover::before {
      animation: clipMe 0.3s linear forwards;
    }
    @keyframes clipMe {
      0% {
        clip-path: polygon(0 0, 0 0, 0 0, 0 0, 0 0, $clip-size 0, $clip-size 0, $clip-size 0, $clip-size 0, $clip-size 0);
      }

      25% {
        clip-path: polygon(0 0, 0% 100%, $clip-size 100%, $clip-size calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}),
          $clip-size calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}), $clip-size 0);
      }

      50% {
        clip-path: polygon(0 0, 0% 100%, 100% 100%, 100% calc(100% - #{$clip-size}), calc(100% - #{$clip-size}) calc(100% - #{$clip-size}),
          calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}), $clip-size 0);
      }

      75% {
        clip-path: polygon(0 0, 0% 100%, 100% 100%, 100% 0%, calc(100% - #{$clip-size}) 0%,
          calc(100% - #{$clip-size}) $clip-size, calc(100% - #{$clip-size}) $clip-size, calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}), $clip-size 0);
      }

      100% {
        clip-path: polygon(0 0, 0% 100%, 100% 100%, 100% 0%, $clip-size 0,
          $clip-size $clip-size, calc(100% - #{$clip-size}) $clip-size, calc(100% - #{$clip-size}) calc(100% - #{$clip-size}), $clip-size calc(100% - #{$clip-size}), $clip-size 0);
      }
    }
  }
}
